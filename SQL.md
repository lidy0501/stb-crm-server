# 员工信息表:
CREATE TABLE CRM_STAFF (
	STAFF_ID char(10) NOT NULL COMMENT '员工ID',
	STAFF_NAME varchar(60) NOT NULL COMMENT '员工姓名',
	STAFF_CODE varchar(20) DEFAULT NULL COMMENT '员工工号,用于账号登录',
	STAFF_PASSWD varchar(100) DEFAULT NULL COMMENT '员工密码',
	STAFF_PHONE varchar(16) DEFAULT NULL COMMENT '员工电话',
	STAFF_TYPE char(1) NOT NULL COMMENT '员工类型:0系统管理员,1普通员工',
	STAFF_STATE char(1) NOT NULL COMMENT '员工状态：1正常、9离职',
	STAFF_EMAIL varchar(100) DEFAULT NULL COMMENT '邮箱',
	OPERATOR_ID char(10) NOT NULL COMMENT '操作人',
	CREATE_TIME datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
	UPDATE_TIME datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
	REMARK varchar(1000) DEFAULT NULL COMMENT '备注',
	PRIMARY KEY (STAFF_ID)
)ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT = '员工信息表';
# 员工角色表
CREATE TABLE CRM_STAFF_ROLE (
	STAFF_ID char(10) NOT NULL COMMENT '员工ID',
	ROLE_ID char(10) NOT NULL COMMENT '角色ID',
	ROLE_STATE char(1) NOT NULL COMMENT '角色状态：0无效、1有效',
	OPERATOR_ID char(10) NOT NULL COMMENT '操作人',
	CREATE_TIME datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
	UPDATE_TIME datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
	REMARK varchar(1000) DEFAULT NULL COMMENT '备注',
	PRIMARY KEY(STAFF_ID,ROLE_ID)
)ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT = '员工角色表';
# 角色信息表
CREATE TABLE CRM_ROLE (
	ROLE_ID char(10) NOT NULL COMMENT '角色ID',
ROLE_NAME varchar(100) NOT NULL COMMENT '角色名称',
ROLE_DESC varchar(300) DEFAULT NULL COMMENT '角色描述',
	ROLE_STATE char(1) NOT NULL COMMENT '角色状态：0无效、1有效',
	OPERATOR_ID char(10) NOT NULL COMMENT '操作人',
	CREATE_TIME datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
	UPDATE_TIME datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
	REMARK varchar(1000) DEFAULT NULL COMMENT '备注',
	PRIMARY KEY(ROLE_ID)
)ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT = '角色信息表';
# 角色权限表
CREATE TABLE TF_CRM_ROLE_RIGHT (
	ROLE_ID char(20) NOT NULL COMMENT '角色ID',
	RIGHT_ID char(20) NOT NULL COMMENT '权限ID',
	RIGHT_STATE char(1) NOT NULL COMMENT '状态：0无效、1有效',
	OPERATOR_ID char(20) NOT NULL COMMENT '操作人',
	CREATE_TIME datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
	UPDATE_TIME datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
	REMARK varchar(1000) DEFAULT NULL COMMENT '备注',
	PRIMARY KEY(ROLE_ID, RIGHT_ID)
)ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT = '角色权限表';
# 客户信息表
CREATE TABLE CRM_USER (
	USER_ID char(10) NOT NULL COMMENT '客户ID',
    USER_NAME varchar(60) DEFAULT NULL COMMENT '角色名称',
    USER_PHONE varchar(16) DEFAULT NULL COMMENT '客户电话',
    USER_EMAIL varchar(45) DEFAULT NULL COMMENT '客户邮箱',
    COMPANY varchar(100) DEFAULT NULL COMMENT '客户公司名称',
    USER_TYPE char(1) NOT NULL COMMENT '客户类型：0公共区域、1私有区域',
    USER_STATE char(1) NOT NULL COMMENT '客户状态：0无效 1有效',
    OPERATOR_ID char(20) NOT NULL COMMENT '操作人',
	CREATE_TIME datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
	UPDATE_TIME datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
	REMARK varchar(1000) DEFAULT NULL COMMENT '备注',
	PRIMARY KEY(USER_ID)
)ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT = '客户信息表';
# 订单管理表
CREATE TABLE CRM_ORDER (
	ORDER_ID char(10) NOT NULL COMMENT '订单ID',
	USER_ID char(10) NOT NULL COMMENT '客户ID',
	STAFF_ID char(10) NOT NULL COMMENT '跟单人ID',
	PRODUCT_NAME varchar(100) NOT NULL COMMENT '产品名称',
	PRODUCT_SPE varchar(100) DEFAULT NULL COMMENT '产品规格',
	PRODUCT_NUM int DEFAULT NULL COMMENT '产品数量',
	ORDER_STATE char(1) NOT NULL COMMENT '0:未完成 1:已完成',
	PAY_TYPE varchar(32) DEFAULT NULL COMMENT '支付方式',
	TOTAL_FEE int NOT NULL COMMENT '订单应付总金额',
	DOWN_PAY_FEE int DEFAULT NULL COMMENT '首付款',
	FINAL_PAY_FEE int DEFAULT NULL COMMENT '尾款',
	PAY_PROGRESS varchar(200) DEFAULT NULL COMMENT '付款进度',
	DELIVERY_TIME varchar(100) DEFAULT NULL COMMENT '交期',
	DELIVERY_NO varchar(50) DEFAULT NULL COMMENT '物流单号',
	PAY_RECORD varchar(1000) DEFAULT NULL COMMENT '付款记录',
	ORDER_DELETE char(1) NOT NULL COMMENT'订单删除,0:未删除,1:已删除',
	CREATE_TIME datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '订单生成时间',
	UPDATE_TIME datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间，订单有变更时更新',
	REMARK varchar(1000) DEFAULT NULL COMMENT '备注',
	PRIMARY KEY(ORDER_ID)
)ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT = '订单管理表';
# 系统权限表
CREATE TABLE CRM_RIGHT (
		RIGHT_ID char(10) NOT NULL COMMENT '权限ID',
		RIGHT_CODE varchar(100) NOT NULL COMMENT '权限编码',
		RIGHT_NAME varchar(50) NOT NULL COMMENT '权限名称',
		RIGHT_STATE char(1) NOT NULL COMMENT '状态,1有效,0无效',
		RIGHT_DESC varchar(500) DEFAULT NULL COMMENT '权限说明',
		MENU_URL varchar(250) DEFAULT NULL COMMENT 'URL',
		CREATE_TIME datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
		UPDATE_TIME datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
		REMARK varchar(1000) DEFAULT NULL COMMENT '备注',
		PRIMARY KEY(RIGHT_ID)
)ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT = '系统权限表';
# 商品信息表
CREATE TABLE CRM_GOODS(
		GOODS_ID char(10) NOT NULL COMMENT '商品ID',
		GOODS_NAME varchar(50) NOT NULL COMMENT '商品名称',
		GOODS_PRICE decimal DEFAULT NULL COMMENT '商品价格',
		GOODS_SPE varchar(100) DEFAULT NULL COMMENT '商品规格',
		CREATE_TIME datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
		UPDATE_TIME datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
		REMARK varchar(1000) DEFAULT NULL COMMENT '备注',
		PRIMARY KEY(GOODS_ID)
)ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT = '商品信息表';
# 合同信息表
CREATE TABLE CRM_CONTRACT(
		CONTRACT_ID char(10) NOT NULL COMMENT '合同ID',
		CONTRACT_CODE varchar(50) NOT NULL COMMENT '合同编号',
		CREATE_TIME datetime NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
		UPDATE_TIME datetime NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
		REMARK varchar(1000) DEFAULT NULL COMMENT '备注',
		PRIMARY KEY(CONTRACT_ID)
)ENGINE = InnoDB DEFAULT CHARSET = utf8mb4 COMMENT = '合同信息表';


